(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
'use strict';

var $containerMap = document.querySelector('.container.container-map');
var $form = document.querySelector('form');
var $pokemon = $form.querySelector('input[name="pokemon"]');
var $positionX = $form.querySelector('input[name="positionX"]');
var $positionY = $form.querySelector('input[name="positionY"]');
var $submit = $form.querySelector('input[type="submit"]');
if ($containerMap) {
    var $top = $containerMap.querySelector('.top');
    var $right = $containerMap.querySelector('.right');
    var $bottom = $containerMap.querySelector('.bottom');
    var $left = $containerMap.querySelector('.left');
    var $map = $containerMap.querySelector('.map');
    var $character = $containerMap.querySelector('.character');
    var $sprite = $character.querySelector('.sprite');
    var position = { x: parseInt($positionX.value), y: parseInt($positionY.value) };
    var tileSize = { x: 0, y: 0 };
    var SPAWN_RATE = 0.25;
    var MAP_ROW = 12;
    var MAP_COL = 15;
    var MAP_RATIO = MAP_COL / MAP_ROW;
    var forbidden = [{ x: 0, y: 0 }, { x: 0, y: 50 }, { x: 0, y: 100 }, { x: 0, y: 150 }, { x: 0, y: 200 }, { x: 0, y: 250 }, { x: 0, y: 350 }, { x: 0, y: 400 }, { x: 0, y: 450 }, { x: 50, y: 0 }, { x: 650, y: 0 }, { x: 700, y: 0 }, { x: 700, y: 50 }, { x: 700, y: 100 }, { x: 700, y: 200 }, { x: 700, y: 250 }, { x: 700, y: 300 }, { x: 700, y: 350 }, { x: 700, y: 400 }, { x: 700, y: 450 }];
    var bushes = [{ x: 150, y: 0 }, { x: 200, y: 0 }, { x: 300, y: 0 }, { x: 350, y: 0 }, { x: 450, y: 0 }, { x: 500, y: 0 }, { x: 200, y: 50 }, { x: 250, y: 50 }, { x: 300, y: 50 }, { x: 350, y: 50 }, { x: 400, y: 50 }, { x: 500, y: 50 }, { x: 550, y: 50 }, { x: 150, y: 100 }, { x: 200, y: 100 }, { x: 300, y: 100 }, { x: 400, y: 100 }, { x: 450, y: 100 }, { x: 550, y: 100 }, { x: 150, y: 150 }, { x: 200, y: 150 }, { x: 250, y: 150 }, { x: 300, y: 150 }, { x: 350, y: 150 }, { x: 400, y: 150 }, { x: 450, y: 150 }, { x: 500, y: 150 }, { x: 550, y: 150 }, { x: 600, y: 150 }, { x: 100, y: 200 }, { x: 200, y: 200 }, { x: 300, y: 200 }, { x: 400, y: 200 }, { x: 500, y: 200 }, { x: 550, y: 200 }, { x: 600, y: 200 }, { x: 100, y: 250 }, { x: 150, y: 250 }, { x: 200, y: 250 }, { x: 250, y: 250 }, { x: 300, y: 250 }, { x: 350, y: 250 }, { x: 400, y: 250 }, { x: 450, y: 250 }, { x: 550, y: 250 }, { x: 150, y: 300 }, { x: 250, y: 300 }, { x: 350, y: 300 }, { x: 400, y: 300 }, { x: 500, y: 300 }, { x: 600, y: 300 }, { x: 100, y: 350 }, { x: 200, y: 350 }, { x: 250, y: 350 }, { x: 300, y: 350 }, { x: 400, y: 350 }, { x: 450, y: 350 }, { x: 500, y: 350 }, { x: 550, y: 350 }, { x: 600, y: 350 }, { x: 250, y: 400 }, { x: 350, y: 400 }, { x: 400, y: 400 }, { x: 550, y: 400 }, { x: 300, y: 450 }];
    var windowWidth = window.innerWidth;
    var windowHeight = window.innerHeight;
    var canSubmit = false;

    $form.addEventListener('submit', function (event) {
        if (!canSubmit) event.preventDefault();
    });

    var setImageSize = function setImageSize(left, top, width, height, transform) {
        $map.style.left = left;
        $map.style.top = top;
        $map.style.width = width;
        $map.style.height = height;
        $map.style.transform = transform;
        $map.style.zIndex = '2';
    };

    var resizeImage = function resizeImage(windowWidth, windowHeight, callback) {
        if (windowWidth / windowHeight <= MAP_RATIO) {
            setImageSize('0', '50%', '100%', 'auto', 'translateY(-50%)');
            $top.style.zIndex = '1';
            $right.style.zIndex = '0';
            $bottom.style.zIndex = '1';
            $left.style.zIndex = '0';
        } else {
            setImageSize('50%', '0', 'auto', '100%', 'translateX(-50%)');
            $top.style.zIndex = '0';
            $right.style.zIndex = '1';
            $bottom.style.zIndex = '0';
            $left.style.zIndex = '1';
        }
        callback();
    };

    var setOffetset = function setOffetset() {
        var topOffset = $map.getBoundingClientRect().top;
        var leftOffset = $map.getBoundingClientRect().left;
        $top.style.bottom = topOffset + 'px';
        $right.style.left = leftOffset + 'px';
        $bottom.style.top = topOffset + 'px';
        $left.style.right = leftOffset + 'px';
        tileSize.x = $map.getBoundingClientRect().width / MAP_COL;
        tileSize.y = $map.getBoundingClientRect().height / MAP_ROW;
        $character.style.left = leftOffset - tileSize.x / 2 + 'px';
        $character.style.top = topOffset + 'px';
        $character.style.width = tileSize.x * 2 + 'px';
        $character.style.height = tileSize.y * 2 + 'px';
        $character.style.transform = 'translate(' + position.x + '%, ' + position.y + '%)';
        $sprite.style.width = '300%';
        $sprite.style.height = '400%';
    };

    var allowPosition = function allowPosition(positionX, positionY) {
        var _iteratorNormalCompletion = true;
        var _didIteratorError = false;
        var _iteratorError = undefined;

        try {
            for (var _iterator = forbidden[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                var forbiddenPosition = _step.value;

                if (forbiddenPosition.x == positionX && forbiddenPosition.y == positionY) return false;
            }
        } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
        } finally {
            try {
                if (!_iteratorNormalCompletion && _iterator.return) {
                    _iterator.return();
                }
            } finally {
                if (_didIteratorError) {
                    throw _iteratorError;
                }
            }
        }

        return true;
    };

    var stepBush = function stepBush(positionX, positionY) {
        var _iteratorNormalCompletion2 = true;
        var _didIteratorError2 = false;
        var _iteratorError2 = undefined;

        try {
            for (var _iterator2 = bushes[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
                var bush = _step2.value;

                if (bush.x == positionX && bush.y == positionY) {
                    return true;
                }
            }
        } catch (err) {
            _didIteratorError2 = true;
            _iteratorError2 = err;
        } finally {
            try {
                if (!_iteratorNormalCompletion2 && _iterator2.return) {
                    _iterator2.return();
                }
            } finally {
                if (_didIteratorError2) {
                    throw _iteratorError2;
                }
            }
        }

        return false;
    };

    var loadJSON = function loadJSON(callback) {
        var xobj = new XMLHttpRequest();
        xobj.overrideMimeType('application/json');
        xobj.open('GET', './database/pokedex.json', true);
        xobj.onreadystatechange = function () {
            if (xobj.readyState == 4 && xobj.status == '200') {
                callback(xobj.responseText);
            }
        };
        xobj.send(null);
    };

    var loadPokemon = function loadPokemon(array) {
        if (Math.random() - SPAWN_RATE < 0) {
            var pokemonNumber = Math.floor(Math.random() * 151);
            var pokemonSpawn = array[pokemonNumber].spawn_chance;
            var pokemonChance = Math.random() - pokemonSpawn;
            var isSpawning = pokemonChance < 0 ? true : false;
            if (isSpawning) {
                canSubmit = true;
                $pokemon.value = pokemonNumber;
                $positionX.value = position.x;
                $positionY.value = position.y;
                $submit.click();
            }
        }
    };

    loadJSON(function (response) {
        var JSON_file = JSON.parse(response);
        var pokemon_array = JSON_file.pokemon;

        window.addEventListener('keydown', function (event) {
            switch (event.keyCode) {
                case 37:
                    if (allowPosition(Math.max(0, position.x - 50), position.y)) {
                        position.x = Math.max(0, position.x - 50);
                        if (stepBush(position.x, position.y)) loadPokemon(pokemon_array);
                    }
                    $sprite.style.transform = 'translate(0%, -25%)';
                    break;
                case 39:
                    if (allowPosition(Math.min((MAP_COL - 1) * 50, position.x + 50), position.y)) {
                        position.x = Math.min((MAP_COL - 1) * 50, position.x + 50);
                        if (stepBush(position.x, position.y)) loadPokemon(pokemon_array);
                    }
                    $sprite.style.transform = 'translate(0%, -75%)';
                    break;
                case 38:
                    if (allowPosition(position.x, Math.max(0, position.y - 50))) {
                        position.y = Math.max(0, position.y - 50);
                        if (stepBush(position.x, position.y)) loadPokemon(pokemon_array);
                    }
                    $sprite.style.transform = 'translate(0%, -50%)';
                    break;
                case 40:
                    if (allowPosition(position.x, Math.min((MAP_ROW - 3) * 50, position.y + 50))) {
                        position.y = Math.min((MAP_ROW - 3) * 50, position.y + 50);
                        if (stepBush(position.x, position.y)) loadPokemon(pokemon_array);
                    }
                    $sprite.style.transform = 'translate(0%, 0)';
                    break;
            }
            $character.style.transform = 'translate(' + position.x + '%, ' + position.y + '%)';
        });
    });

    resizeImage(windowWidth, windowHeight, setOffetset);
    setTimeout(function () {
        resizeImage(windowWidth, windowHeight, setOffetset);
    }, 250);

    window.addEventListener('resize', function () {
        windowWidth = window.innerWidth;
        windowHeight = window.innerHeight;
        resizeImage(windowWidth, windowHeight, setOffetset);
    });
}

var $return = document.querySelector('.return');
if ($return) {
    $return.addEventListener('click', function () {
        $submit.click();
    });
}

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJidWlsZC9zY3JpcHRzL2FwcC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUEsSUFBTSxnQkFBZ0IsU0FBUyxhQUFULENBQXVCLDBCQUF2QixDQUF0QjtBQUNBLElBQU0sUUFBZ0IsU0FBUyxhQUFULENBQXVCLE1BQXZCLENBQXRCO0FBQ0EsSUFBTSxXQUFnQixNQUFNLGFBQU4sQ0FBb0IsdUJBQXBCLENBQXRCO0FBQ0EsSUFBTSxhQUFnQixNQUFNLGFBQU4sQ0FBb0IseUJBQXBCLENBQXRCO0FBQ0EsSUFBTSxhQUFnQixNQUFNLGFBQU4sQ0FBb0IseUJBQXBCLENBQXRCO0FBQ0EsSUFBTSxVQUFnQixNQUFNLGFBQU4sQ0FBb0Isc0JBQXBCLENBQXRCO0FBQ0EsSUFBSSxhQUFKLEVBQ0E7QUFDSSxRQUFNLE9BQWEsY0FBYyxhQUFkLENBQTRCLE1BQTVCLENBQW5CO0FBQ0EsUUFBTSxTQUFhLGNBQWMsYUFBZCxDQUE0QixRQUE1QixDQUFuQjtBQUNBLFFBQU0sVUFBYSxjQUFjLGFBQWQsQ0FBNEIsU0FBNUIsQ0FBbkI7QUFDQSxRQUFNLFFBQWEsY0FBYyxhQUFkLENBQTRCLE9BQTVCLENBQW5CO0FBQ0EsUUFBTSxPQUFhLGNBQWMsYUFBZCxDQUE0QixNQUE1QixDQUFuQjtBQUNBLFFBQU0sYUFBYSxjQUFjLGFBQWQsQ0FBNEIsWUFBNUIsQ0FBbkI7QUFDQSxRQUFNLFVBQWEsV0FBVyxhQUFYLENBQXlCLFNBQXpCLENBQW5CO0FBQ0EsUUFBTSxXQUFhLEVBQUMsR0FBRyxTQUFTLFdBQVcsS0FBcEIsQ0FBSixFQUFnQyxHQUFHLFNBQVMsV0FBVyxLQUFwQixDQUFuQyxFQUFuQjtBQUNBLFFBQU0sV0FBYSxFQUFDLEdBQUcsQ0FBSixFQUFPLEdBQUcsQ0FBVixFQUFuQjtBQUNBLFFBQU0sYUFBYSxJQUFuQjtBQUNBLFFBQU0sVUFBYSxFQUFuQjtBQUNBLFFBQU0sVUFBYSxFQUFuQjtBQUNBLFFBQU0sWUFBYSxVQUFVLE9BQTdCO0FBQ0EsUUFBTSxZQUNOLENBQ0ksRUFBQyxHQUFHLENBQUosRUFBTyxHQUFHLENBQVYsRUFESixFQUVJLEVBQUMsR0FBRyxDQUFKLEVBQU8sR0FBRyxFQUFWLEVBRkosRUFHSSxFQUFDLEdBQUcsQ0FBSixFQUFPLEdBQUcsR0FBVixFQUhKLEVBSUksRUFBQyxHQUFHLENBQUosRUFBTyxHQUFHLEdBQVYsRUFKSixFQUtJLEVBQUMsR0FBRyxDQUFKLEVBQU8sR0FBRyxHQUFWLEVBTEosRUFNSSxFQUFDLEdBQUcsQ0FBSixFQUFPLEdBQUcsR0FBVixFQU5KLEVBT0ksRUFBQyxHQUFHLENBQUosRUFBTyxHQUFHLEdBQVYsRUFQSixFQVFJLEVBQUMsR0FBRyxDQUFKLEVBQU8sR0FBRyxHQUFWLEVBUkosRUFTSSxFQUFDLEdBQUcsQ0FBSixFQUFPLEdBQUcsR0FBVixFQVRKLEVBVUksRUFBQyxHQUFHLEVBQUosRUFBUSxHQUFHLENBQVgsRUFWSixFQVdJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxDQUFaLEVBWEosRUFZSSxFQUFDLEdBQUcsR0FBSixFQUFTLEdBQUcsQ0FBWixFQVpKLEVBYUksRUFBQyxHQUFHLEdBQUosRUFBUyxHQUFHLEVBQVosRUFiSixFQWNJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBZEosRUFlSSxFQUFDLEdBQUcsR0FBSixFQUFTLEdBQUcsR0FBWixFQWZKLEVBZ0JJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBaEJKLEVBaUJJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBakJKLEVBa0JJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBbEJKLEVBbUJJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBbkJKLEVBb0JJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBcEJKLENBREE7QUF1QkEsUUFBTSxTQUNOLENBQ0ksRUFBQyxHQUFHLEdBQUosRUFBUyxHQUFHLENBQVosRUFESixFQUVJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxDQUFaLEVBRkosRUFHSSxFQUFDLEdBQUcsR0FBSixFQUFTLEdBQUcsQ0FBWixFQUhKLEVBSUksRUFBQyxHQUFHLEdBQUosRUFBUyxHQUFHLENBQVosRUFKSixFQUtJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxDQUFaLEVBTEosRUFNSSxFQUFDLEdBQUcsR0FBSixFQUFTLEdBQUcsQ0FBWixFQU5KLEVBT0ksRUFBQyxHQUFHLEdBQUosRUFBUyxHQUFHLEVBQVosRUFQSixFQVFJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxFQUFaLEVBUkosRUFTSSxFQUFDLEdBQUcsR0FBSixFQUFTLEdBQUcsRUFBWixFQVRKLEVBVUksRUFBQyxHQUFHLEdBQUosRUFBUyxHQUFHLEVBQVosRUFWSixFQVdJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxFQUFaLEVBWEosRUFZSSxFQUFDLEdBQUcsR0FBSixFQUFTLEdBQUcsRUFBWixFQVpKLEVBYUksRUFBQyxHQUFHLEdBQUosRUFBUyxHQUFHLEVBQVosRUFiSixFQWNJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBZEosRUFlSSxFQUFDLEdBQUcsR0FBSixFQUFTLEdBQUcsR0FBWixFQWZKLEVBZ0JJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBaEJKLEVBaUJJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBakJKLEVBa0JJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBbEJKLEVBbUJJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBbkJKLEVBb0JJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBcEJKLEVBcUJJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBckJKLEVBc0JJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBdEJKLEVBdUJJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBdkJKLEVBd0JJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBeEJKLEVBeUJJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBekJKLEVBMEJJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBMUJKLEVBMkJJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBM0JKLEVBNEJJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBNUJKLEVBNkJJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBN0JKLEVBOEJJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBOUJKLEVBK0JJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBL0JKLEVBZ0NJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBaENKLEVBaUNJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBakNKLEVBa0NJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBbENKLEVBbUNJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBbkNKLEVBb0NJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBcENKLEVBcUNJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBckNKLEVBc0NJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBdENKLEVBdUNJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBdkNKLEVBd0NJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBeENKLEVBeUNJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBekNKLEVBMENJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBMUNKLEVBMkNJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBM0NKLEVBNENJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBNUNKLEVBNkNJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBN0NKLEVBOENJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBOUNKLEVBK0NJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBL0NKLEVBZ0RJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBaERKLEVBaURJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBakRKLEVBa0RJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBbERKLEVBbURJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBbkRKLEVBb0RJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBcERKLEVBcURJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBckRKLEVBc0RJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBdERKLEVBdURJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBdkRKLEVBd0RJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBeERKLEVBeURJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBekRKLEVBMERJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBMURKLEVBMkRJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBM0RKLEVBNERJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBNURKLEVBNkRJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBN0RKLEVBOERJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBOURKLEVBK0RJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBL0RKLEVBZ0VJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBaEVKLEVBaUVJLEVBQUMsR0FBRyxHQUFKLEVBQVMsR0FBRyxHQUFaLEVBakVKLENBREE7QUFvRUEsUUFBSSxjQUFl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O0FBckNSO0FBdUNBLHVCQUFXLEtBQVgsQ0FBaUIsU0FBakIsa0JBQTBDLFNBQVMsQ0FBbkQsV0FBMEQsU0FBUyxDQUFuRTtBQUNILFNBMUNEO0FBMkNILEtBaEREOztBQWtEQSxnQkFBWSxXQUFaLEVBQXlCLFlBQXpCLEVBQXVDLFdBQXZDO0FBQ0EsZUFBVyxZQUNYO0FBQ0ksb0JBQVksV0FBWixFQUF5QixZQUF6QixFQUF1QyxXQUF2QztBQUNILEtBSEQsRUFHRyxHQUhIOztBQUtBLFdBQU8sZ0JBQVAsQ0FBd0IsUUFBeEIsRUFBa0MsWUFDbEM7QUFDSSxzQkFBZSxPQUFPLFVBQXRCO0FBQ0EsdUJBQWUsT0FBTyxXQUF0QjtBQUNBLG9CQUFZLFdBQVosRUFBeUIsWUFBekIsRUFBdUMsV0FBdkM7QUFDSCxLQUxEO0FBTUg7O0FBRUQsSUFBTSxVQUFVLFNBQVMsYUFBVCxDQUF1QixTQUF2QixDQUFoQjtBQUNBLElBQUksT0FBSixFQUNBO0FBQ0ksWUFBUSxnQkFBUixDQUF5QixPQUF6QixFQUFrQyxZQUNsQztBQUNJLGdCQUFRLEtBQVI7QUFDSCxLQUhEO0FBSUgiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJjb25zdCAkY29udGFpbmVyTWFwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhaW5lci5jb250YWluZXItbWFwJylcbmNvbnN0ICRmb3JtICAgICAgICAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtJylcbmNvbnN0ICRwb2tlbW9uICAgICAgPSAkZm9ybS5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwicG9rZW1vblwiXScpXG5jb25zdCAkcG9zaXRpb25YICAgID0gJGZvcm0ucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cInBvc2l0aW9uWFwiXScpXG5jb25zdCAkcG9zaXRpb25ZICAgID0gJGZvcm0ucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cInBvc2l0aW9uWVwiXScpXG5jb25zdCAkc3VibWl0ICAgICAgID0gJGZvcm0ucXVlcnlTZWxlY3RvcignaW5wdXRbdHlwZT1cInN1Ym1pdFwiXScpXG5pZiAoJGNvbnRhaW5lck1hcClcbntcbiAgICBjb25zdCAkdG9wICAgICAgID0gJGNvbnRhaW5lck1hcC5xdWVyeVNlbGVjdG9yKCcudG9wJylcbiAgICBjb25zdCAkcmlnaHQgICAgID0gJGNvbnRhaW5lck1hcC5xdWVyeVNlbGVjdG9yKCcucmlnaHQnKVxuICAgIGNvbnN0ICRib3R0b20gICAgPSAkY29udGFpbmVyTWFwLnF1ZXJ5U2VsZWN0b3IoJy5ib3R0b20nKVxuICAgIGNvbnN0ICRsZWZ0ICAgICAgPSAkY29udGFpbmVyTWFwLnF1ZXJ5U2VsZWN0b3IoJy5sZWZ0JylcbiAgICBjb25zdCAkbWFwICAgICAgID0gJGNvbnRhaW5lck1hcC5xdWVyeVNlbGVjdG9yKCcubWFwJylcbiAgICBjb25zdCAkY2hhcmFjdGVyID0gJGNvbnRhaW5lck1hcC5xdWVyeVNlbGVjdG9yKCcuY2hhcmFjdGVyJylcbiAgICBjb25zdCAkc3ByaXRlICAgID0gJGNoYXJhY3Rlci5xdWVyeVNlbGVjdG9yKCcuc3ByaXRlJylcbiAgICBjb25zdCBwb3NpdGlvbiAgID0ge3g6IHBhcnNlSW50KCRwb3NpdGlvblgudmFsdWUpLCB5OiBwYXJzZUludCgkcG9zaXRpb25ZLnZhbHVlKX1cbiAgICBjb25zdCB0aWxlU2l6ZSAgID0ge3g6IDAsIHk6IDB9XG4gICAgY29uc3QgU1BBV05fUkFURSA9IDAuMjVcbiAgICBjb25zdCBNQVBfUk9XICAgID0gMTJcbiAgICBjb25zdCBNQVBfQ09MICAgID0gMTVcbiAgICBjb25zdCBNQVBfUkFUSU8gID0gTUFQX0NPTCAvIE1BUF9ST1dcbiAgICBjb25zdCBmb3JiaWRkZW4gID1cbiAgICBbXG4gICAgICAgIHt4OiAwLCB5OiAwfSxcbiAgICAgICAge3g6IDAsIHk6IDUwfSxcbiAgICAgICAge3g6IDAsIHk6IDEwMH0sXG4gICAgICAgIHt4OiAwLCB5OiAxNTB9LFxuICAgICAgICB7eDogMCwgeTogMjAwfSxcbiAgICAgICAge3g6IDAsIHk6IDI1MH0sXG4gICAgICAgIHt4OiAwLCB5OiAzNTB9LFxuICAgICAgICB7eDogMCwgeTogNDAwfSxcbiAgICAgICAge3g6IDAsIHk6IDQ1MH0sXG4gICAgICAgIHt4OiA1MCwgeTogMH0sXG4gICAgICAgIHt4OiA2NTAsIHk6IDB9LFxuICAgICAgICB7eDogNzAwLCB5OiAwfSxcbiAgICAgICAge3g6IDcwMCwgeTogNTB9LFxuICAgICAgICB7eDogNzAwLCB5OiAxMDB9LFxuICAgICAgICB7eDogNzAwLCB5OiAyMDB9LFxuICAgICAgICB7eDogNzAwLCB5OiAyNTB9LFxuICAgICAgICB7eDogNzAwLCB5OiAzMDB9LFxuICAgICAgICB7eDogNzAwLCB5OiAzNTB9LFxuICAgICAgICB7eDogNzAwLCB5OiA0MDB9LFxuICAgICAgICB7eDogNzAwLCB5OiA0NTB9LFxuICAgIF1cbiAgICBjb25zdCBidXNoZXMgPVxuICAgIFtcbiAgICAgICAge3g6IDE1MCwgeTogMH0sXG4gICAgICAgIHt4OiAyMDAsIHk6IDB9LFxuICAgICAgICB7eDogMzAwLCB5OiAwfSxcbiAgICAgICAge3g6IDM1MCwgeTogMH0sXG4gICAgICAgIHt4OiA0NTAsIHk6IDB9LFxuICAgICAgICB7eDogNTAwLCB5OiAwfSxcbiAgICAgICAge3g6IDIwMCwgeTogNTB9LFxuICAgICAgICB7eDogMjUwLCB5OiA1MH0sXG4gICAgICAgIHt4OiAzMDAsIHk6IDUwfSxcbiAgICAgICAge3g6IDM1MCwgeTogNTB9LFxuICAgICAgICB7eDogNDAwLCB5OiA1MH0sXG4gICAgICAgIHt4OiA1MDAsIHk6IDUwfSxcbiAgICAgICAge3g6IDU1MCwgeTogNTB9LFxuICAgICAgICB7eDogMTUwLCB5OiAxMDB9LFxuICAgICAgICB7eDogMjAwLCB5OiAxMDB9LFxuICAgICAgICB7eDogMzAwLCB5OiAxMDB9LFxuICAgICAgICB7eDogNDAwLCB5OiAxMDB9LFxuICAgICAgICB7eDogNDUwLCB5OiAxMDB9LFxuICAgICAgICB7eDogNTUwLCB5OiAxMDB9LFxuICAgICAgICB7eDogMTUwLCB5OiAxNTB9LFxuICAgICAgICB7eDogMjAwLCB5OiAxNTB9LFxuICAgICAgICB7eDogMjUwLCB5OiAxNTB9LFxuICAgICAgICB7eDogMzAwLCB5OiAxNTB9LFxuICAgICAgICB7eDogMzUwLCB5OiAxNTB9LFxuICAgICAgICB7eDogNDAwLCB5OiAxNTB9LFxuICAgICAgICB7eDogNDUwLCB5OiAxNTB9LFxuICAgICAgICB7eDogNTAwLCB5OiAxNTB9LFxuICAgICAgICB7eDogNTUwLCB5OiAxNTB9LFxuICAgICAgICB7eDogNjAwLCB5OiAxNTB9LFxuICAgICAgICB7eDogMTAwLCB5OiAyMDB9LFxuICAgICAgICB7eDogMjAwLCB5OiAyMDB9LFxuICAgICAgICB7eDogMzAwLCB5OiAyMDB9LFxuICAgICAgICB7eDogNDAwLCB5OiAyMDB9LFxuICAgICAgICB7eDogNTAwLCB5OiAyMDB9LFxuICAgICAgICB7eDogNTUwLCB5OiAyMDB9LFxuICAgICAgICB7eDogNjAwLCB5OiAyMDB9LFxuICAgICAgICB7eDogMTAwLCB5OiAyNTB9LFxuICAgICAgICB7eDogMTUwLCB5OiAyNTB9LFxuICAgICAgICB7eDogMjAwLCB5OiAyNTB9LFxuICAgICAgICB7eDogMjUwLCB5OiAyNTB9LFxuICAgICAgICB7eDogMzAwLCB5OiAyNTB9LFxuICAgICAgICB7eDogMzUwLCB5OiAyNTB9LFxuICAgICAgICB7eDogNDAwLCB5OiAyNTB9LFxuICAgICAgICB7eDogNDUwLCB5OiAyNTB9LFxuICAgICAgICB7eDogNTUwLCB5OiAyNTB9LFxuICAgICAgICB7eDogMTUwLCB5OiAzMDB9LFxuICAgICAgICB7eDogMjUwLCB5OiAzMDB9LFxuICAgICAgICB7eDogMzUwLCB5OiAzMDB9LFxuICAgICAgICB7eDogNDAwLCB5OiAzMDB9LFxuICAgICAgICB7eDogNTAwLCB5OiAzMDB9LFxuICAgICAgICB7eDogNjAwLCB5OiAzMDB9LFxuICAgICAgICB7eDogMTAwLCB5OiAzNTB9LFxuICAgICAgICB7eDogMjAwLCB5OiAzNTB9LFxuICAgICAgICB7eDogMjUwLCB5OiAzNTB9LFxuICAgICAgICB7eDogMzAwLCB5OiAzNTB9LFxuICAgICAgICB7eDogNDAwLCB5OiAzNTB9LFxuICAgICAgICB7eDogNDUwLCB5OiAzNTB9LFxuICAgICAgICB7eDogNTAwLCB5OiAzNTB9LFxuICAgICAgICB7eDogNTUwLCB5OiAzNTB9LFxuICAgICAgICB7eDogNjAwLCB5OiAzNTB9LFxuICAgICAgICB7eDogMjUwLCB5OiA0MDB9LFxuICAgICAgICB7eDogMzUwLCB5OiA0MDB9LFxuICAgICAgICB7eDogNDAwLCB5OiA0MDB9LFxuICAgICAgICB7eDogNTUwLCB5OiA0MDB9LFxuICAgICAgICB7eDogMzAwLCB5OiA0NTB9XG4gICAgXVxuICAgIGxldCB3aW5kb3dXaWR0aCAgPSB3aW5kb3cuaW5uZXJXaWR0aFxuICAgIGxldCB3aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHRcbiAgICBsZXQgY2FuU3VibWl0ICAgID0gZmFsc2VcbiAgICBcbiAgICAkZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZlbnQpID0+XG4gICAge1xuICAgICAgICBpZiAoIWNhblN1Ym1pdClcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICB9KVxuICAgIFxuICAgIGNvbnN0IHNldEltYWdlU2l6ZT0gKGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCwgdHJhbnNmb3JtKSA9PlxuICAgIHtcbiAgICAgICAgJG1hcC5zdHlsZS5sZWZ0ICAgICAgPSBsZWZ0XG4gICAgICAgICRtYXAuc3R5bGUudG9wICAgICAgID0gdG9wXG4gICAgICAgICRtYXAuc3R5bGUud2lkdGggICAgID0gd2lkdGhcbiAgICAgICAgJG1hcC5zdHlsZS5oZWlnaHQgICAgPSBoZWlnaHRcbiAgICAgICAgJG1hcC5zdHlsZS50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbiAgICAgICAgJG1hcC5zdHlsZS56SW5kZXggICAgPSAnMidcbiAgICB9XG4gICAgXG4gICAgY29uc3QgcmVzaXplSW1hZ2UgPSAod2luZG93V2lkdGgsIHdpbmRvd0hlaWdodCwgY2FsbGJhY2spID0+XG4gICAge1xuICAgICAgICBpZiAod2luZG93V2lkdGggLyB3aW5kb3dIZWlnaHQgPD0gTUFQX1JBVElPKVxuICAgICAgICB7XG4gICAgICAgICAgICBzZXRJbWFnZVNpemUoJzAnLCAnNTAlJywgJzEwMCUnLCAnYXV0bycsICd0cmFuc2xhdGVZKC01MCUpJylcbiAgICAgICAgICAgICR0b3Auc3R5bGUuekluZGV4ICAgID0gJzEnXG4gICAgICAgICAgICAkcmlnaHQuc3R5bGUuekluZGV4ICA9ICcwJ1xuICAgICAgICAgICAgJGJvdHRvbS5zdHlsZS56SW5kZXggPSAnMSdcbiAgICAgICAgICAgICRsZWZ0LnN0eWxlLnpJbmRleCAgID0gJzAnXG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBzZXRJbWFnZVNpemUoJzUwJScsICcwJywgJ2F1dG8nLCAnMTAwJScsICd0cmFuc2xhdGVYKC01MCUpJylcbiAgICAgICAgICAgICR0b3Auc3R5bGUuekluZGV4ICAgID0gJzAnXG4gICAgICAgICAgICAkcmlnaHQuc3R5bGUuekluZGV4ICA9ICcxJ1xuICAgICAgICAgICAgJGJvdHRvbS5zdHlsZS56SW5kZXggPSAnMCdcbiAgICAgICAgICAgICRsZWZ0LnN0eWxlLnpJbmRleCAgID0gJzEnXG4gICAgICAgIH1cbiAgICAgICAgY2FsbGJhY2soKVxuICAgIH1cbiAgICBcbiAgICBjb25zdCBzZXRPZmZldHNldCA9ICgpID0+XG4gICAge1xuICAgICAgICBjb25zdCB0b3BPZmZzZXQgICA9ICRtYXAuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wXG4gICAgICAgIGNvbnN0IGxlZnRPZmZzZXQgID0gJG1hcC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0XG4gICAgICAgICR0b3Auc3R5bGUuYm90dG9tID0gYCR7dG9wT2Zmc2V0fXB4YFxuICAgICAgICAkcmlnaHQuc3R5bGUubGVmdCA9IGAke2xlZnRPZmZzZXR9cHhgXG4gICAgICAgICRib3R0b20uc3R5bGUudG9wID0gYCR7dG9wT2Zmc2V0fXB4YFxuICAgICAgICAkbGVmdC5zdHlsZS5yaWdodCA9IGAke2xlZnRPZmZzZXR9cHhgXG4gICAgICAgIHRpbGVTaXplLnggPSAkbWFwLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoICAvIE1BUF9DT0xcbiAgICAgICAgdGlsZVNpemUueSA9ICRtYXAuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0IC8gTUFQX1JPV1xuICAgICAgICAkY2hhcmFjdGVyLnN0eWxlLmxlZnQgICAgICA9IGAke2xlZnRPZmZzZXQgLSB0aWxlU2l6ZS54IC8gMn1weGBcbiAgICAgICAgJGNoYXJhY3Rlci5zdHlsZS50b3AgICAgICAgPSBgJHt0b3BPZmZzZXR9cHhgXG4gICAgICAgICRjaGFyYWN0ZXIuc3R5bGUud2lkdGggICAgID0gYCR7dGlsZVNpemUueCAqIDJ9cHhgXG4gICAgICAgICRjaGFyYWN0ZXIuc3R5bGUuaGVpZ2h0ICAgID0gYCR7dGlsZVNpemUueSAqIDJ9cHhgXG4gICAgICAgICRjaGFyYWN0ZXIuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3Bvc2l0aW9uLnh9JSwgJHtwb3NpdGlvbi55fSUpYFxuICAgICAgICAkc3ByaXRlLnN0eWxlLndpZHRoICAgICAgICA9IGAzMDAlYFxuICAgICAgICAkc3ByaXRlLnN0eWxlLmhlaWdodCAgICAgICA9IGA0MDAlYFxuICAgIH1cbiAgICBcbiAgICBjb25zdCBhbGxvd1Bvc2l0aW9uID0gKHBvc2l0aW9uWCwgcG9zaXRpb25ZKSA9PlxuICAgIHtcbiAgICAgICAgZm9yIChjb25zdCBmb3JiaWRkZW5Qb3NpdGlvbiBvZiBmb3JiaWRkZW4pXG4gICAgICAgICAgICBpZiAoZm9yYmlkZGVuUG9zaXRpb24ueCA9PSBwb3NpdGlvblggJiYgZm9yYmlkZGVuUG9zaXRpb24ueSA9PSBwb3NpdGlvblkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHN0ZXBCdXNoID0gKHBvc2l0aW9uWCwgcG9zaXRpb25ZKSA9PlxuICAgIHtcbiAgICAgICAgZm9yIChjb25zdCBidXNoIG9mIGJ1c2hlcylcbiAgICAgICAgICAgIGlmIChidXNoLnggPT0gcG9zaXRpb25YICYmIGJ1c2gueSA9PSBwb3NpdGlvblkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGxvYWRKU09OID0gKGNhbGxiYWNrKSA9PlxuICAgIHtcbiAgICAgICAgY29uc3QgeG9iaiA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpXG4gICAgICAgIHhvYmoub3ZlcnJpZGVNaW1lVHlwZSgnYXBwbGljYXRpb24vanNvbicpXG4gICAgICAgIHhvYmoub3BlbignR0VUJywgJy4vZGF0YWJhc2UvcG9rZWRleC5qc29uJywgdHJ1ZSlcbiAgICAgICAgeG9iai5vbnJlYWR5c3RhdGVjaGFuZ2UgPSAoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoeG9iai5yZWFkeVN0YXRlID09IDQgJiYgeG9iai5zdGF0dXMgPT0gJzIwMCcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soeG9iai5yZXNwb25zZVRleHQpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgeG9iai5zZW5kKG51bGwpXG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGxvYWRQb2tlbW9uID0gKGFycmF5KSA9PlxuICAgIHtcbiAgICAgICAgaWYgKE1hdGgucmFuZG9tKCkgLSBTUEFXTl9SQVRFIDwgMClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcG9rZW1vbk51bWJlciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDE1MSlcbiAgICAgICAgICAgIGNvbnN0IHBva2Vtb25TcGF3biAgPSBhcnJheVtwb2tlbW9uTnVtYmVyXS5zcGF3bl9jaGFuY2VcbiAgICAgICAgICAgIGNvbnN0IHBva2Vtb25DaGFuY2UgPSBNYXRoLnJhbmRvbSgpIC0gcG9rZW1vblNwYXduXG4gICAgICAgICAgICBjb25zdCBpc1NwYXduaW5nICAgID0gcG9rZW1vbkNoYW5jZSA8IDAgPyB0cnVlIDogZmFsc2VcbiAgICAgICAgICAgIGlmIChpc1NwYXduaW5nKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNhblN1Ym1pdCAgICAgICAgPSB0cnVlXG4gICAgICAgICAgICAgICAgJHBva2Vtb24udmFsdWUgICA9IHBva2Vtb25OdW1iZXJcbiAgICAgICAgICAgICAgICAkcG9zaXRpb25YLnZhbHVlID0gcG9zaXRpb24ueFxuICAgICAgICAgICAgICAgICRwb3NpdGlvblkudmFsdWUgPSBwb3NpdGlvbi55XG4gICAgICAgICAgICAgICAgJHN1Ym1pdC5jbGljaygpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgbG9hZEpTT04oKHJlc3BvbnNlKSA9PlxuICAgIHtcbiAgICAgICAgY29uc3QgSlNPTl9maWxlICAgICA9IEpTT04ucGFyc2UocmVzcG9uc2UpXG4gICAgICAgIGNvbnN0IHBva2Vtb25fYXJyYXkgPSBKU09OX2ZpbGUucG9rZW1vblxuICAgIFxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgc3dpdGNoIChldmVudC5rZXlDb2RlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNhc2UgMzc6XG4gICAgICAgICAgICAgICAgICAgIGlmIChhbGxvd1Bvc2l0aW9uKE1hdGgubWF4KDAsIHBvc2l0aW9uLnggLSA1MCksIHBvc2l0aW9uLnkpKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbi54ID0gTWF0aC5tYXgoMCwgcG9zaXRpb24ueCAtIDUwKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0ZXBCdXNoKHBvc2l0aW9uLngsIHBvc2l0aW9uLnkpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRQb2tlbW9uKHBva2Vtb25fYXJyYXkpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgJHNwcml0ZS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKDAlLCAtMjUlKWBcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIDM5OlxuICAgICAgICAgICAgICAgICAgICBpZiAoYWxsb3dQb3NpdGlvbihNYXRoLm1pbigoTUFQX0NPTCAtIDEpICogNTAsIHBvc2l0aW9uLnggKyA1MCksIHBvc2l0aW9uLnkpKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbi54ID0gTWF0aC5taW4oKE1BUF9DT0wgLSAxKSAqIDUwLCBwb3NpdGlvbi54ICsgNTApXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RlcEJ1c2gocG9zaXRpb24ueCwgcG9zaXRpb24ueSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZFBva2Vtb24ocG9rZW1vbl9hcnJheSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgJHNwcml0ZS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKDAlLCAtNzUlKWBcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIDM4OlxuICAgICAgICAgICAgICAgICAgICBpZiAoYWxsb3dQb3NpdGlvbihwb3NpdGlvbi54LCBNYXRoLm1heCgwLCBwb3NpdGlvbi55IC0gNTApKSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24ueSA9IE1hdGgubWF4KDAsIHBvc2l0aW9uLnkgLSA1MClcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGVwQnVzaChwb3NpdGlvbi54LCBwb3NpdGlvbi55KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkUG9rZW1vbihwb2tlbW9uX2FycmF5KVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICRzcHJpdGUuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgwJSwgLTUwJSlgXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSA0MDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFsbG93UG9zaXRpb24ocG9zaXRpb24ueCwgTWF0aC5taW4oKE1BUF9ST1cgLSAzKSAqIDUwLCBwb3NpdGlvbi55ICsgNTApKSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24ueSA9IE1hdGgubWluKChNQVBfUk9XIC0gMykgKiA1MCwgcG9zaXRpb24ueSArIDUwKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0ZXBCdXNoKHBvc2l0aW9uLngsIHBvc2l0aW9uLnkpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRQb2tlbW9uKHBva2Vtb25fYXJyYXkpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgJHNwcml0ZS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKDAlLCAwKWBcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICRjaGFyYWN0ZXIuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3Bvc2l0aW9uLnh9JSwgJHtwb3NpdGlvbi55fSUpYFxuICAgICAgICB9KVxuICAgIH0pXG4gICAgXG4gICAgcmVzaXplSW1hZ2Uod2luZG93V2lkdGgsIHdpbmRvd0hlaWdodCwgc2V0T2ZmZXRzZXQpXG4gICAgc2V0VGltZW91dCgoKSA9PlxuICAgIHtcbiAgICAgICAgcmVzaXplSW1hZ2Uod2luZG93V2lkdGgsIHdpbmRvd0hlaWdodCwgc2V0T2ZmZXRzZXQpXG4gICAgfSwgMjUwKVxuICAgIFxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PlxuICAgIHtcbiAgICAgICAgd2luZG93V2lkdGggID0gd2luZG93LmlubmVyV2lkdGhcbiAgICAgICAgd2luZG93SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0XG4gICAgICAgIHJlc2l6ZUltYWdlKHdpbmRvd1dpZHRoLCB3aW5kb3dIZWlnaHQsIHNldE9mZmV0c2V0KVxuICAgIH0pXG59XG5cbmNvbnN0ICRyZXR1cm4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmV0dXJuJylcbmlmICgkcmV0dXJuKVxue1xuICAgICRyZXR1cm4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PlxuICAgIHtcbiAgICAgICAgJHN1Ym1pdC5jbGljaygpXG4gICAgfSlcbn0iXX0=
