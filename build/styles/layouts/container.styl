.container
    position absolute
    full-size()
    img
        position absolute
        &.left,
        &.right
            size(auto, 100%)
        &.left
            top 0
        &.right
            top 0
        &.top,
        &.bottom
            size(100%, auto)
        &.top
            left 0
        &.bottom
            left 0
        &.map
            left 50%
            top 0
            size(auto, 100%)
            transform translateX(-50%)
            z-index 2
        &.crush
            left 0
            top 0
            opacity 0
            will-change transform, opacity
            z-index 3
        &.pokedex
            left 0
            width 25%
            height auto
            transform translateY(100%)
            composite(transform, 0.5s, ease-out)
            z-index 4
            &:hover
                transform translateY(50%)
        &.pokemon.unknown
            filter brightness(0)
        &.appearance
            right 0
            bottom 50%
            size(25%, auto)
            transform translateX(100%)
            transition transform 1s ease-out
            will-change opacity, transform
            &.active
                transition transform 1s ease-out, opacity 1s ease-out, filter 1s ease-out 1s
                filter none
                &.caught
                    filter brightness(0) invert(1) blur(0.5em)
                    opacity 0
                    transform-origin 50% 50%
                    transform scale(0)
                    transition transform 1s ease-out 1s, opacity 1s ease-out 1s, filter 1s ease-out
        &.illustration
            left 0
            bottom 0
            size(50%, auto)
            transform translateX(-100%)
            composite(transform, 1s, ease-out)
        &.appearance,
        &.illustration
            &.active
                transform none
        &.tool
            right 12.5%
            bottom 25%
            size(6.25%, auto)
            transform translate(50%, calc(50% + 50vh))
            composite(transform, 1s, ease-out)
            &.active
                transform translate(50%, 50%)
                &:hover
                    transform translate(50%, calc(50% + 1em))
            &.thrown
                animation throw 5s ease-in-out forwards
    .character
        position absolute
        overflow hidden
    .character,
    .sprite
        will-change transform
        z-index 4
    .rectangles
        position absolute
        left 0
        top 0
        full-size()
        z-index 0
        .rectangle
            position absolute
            background-color #000
            transition transform linear 0.25s
            &.left.out,
            &.right.out
                size(25%, 100%)
            &.top.out
                size(50%, 25%)
            &.bottom.out
                size(100%, 25%)
            &.left.in,
            &.right.in
                size(25%, 50%)
            &.bottom.in
                size(50%, 25%)
            &.left.out
                left 0
                top 0
            &.top.out
                left 25%
                top 0
            &.bottom.out,
            &.right.out
                right 0
                bottom 0
            &.left.in
                left 25%
                top 25%
            &.bottom.in,
            &.right.in
                right 25%
                bottom 25%
            &.left.out,
            &.left.in
                transform-origin 0 0
                transform scaleY(0)
            &.bottom.out,
            &.bottom.in
                transform-origin 0 0
                transform scaleX(0)
            &.right.out,
            &.right.in
                transform-origin 0 100%
                transform scaleY(0)
            &.top.out
                transform-origin 100% 0
                transform scaleX(0)
            &.left.out
                transition-delay 1.5s
            &.bottom.out
                transition-delay 1.25s
            &.right.out
                transition-delay 1s
            &.top.out
                transition-delay 0.75s
            &.left.in
                transition-delay 0.5s
            &.bottom.in
                transition-delay 0.25s
            &.right.in
                transition-delay 0s
        &.active
            z-index 5
            .rectangle
                transform none !important
                &.left.out
                    transition-delay 0s
                &.bottom.out
                    transition-delay 0.25s
                &.right.out
                    transition-delay 0.5s
                &.top.out
                    transition-delay 0.75s
                &.left.in
                    transition-delay 1s
                &.bottom.in
                    transition-delay 1.25s
                &.right.in
                    transition-delay 1.5s
    &.container-catch
        background url(../assets/images/map/background.png) no-repeat center center fixed
        background-size cover
        h1
            display inline-block
            position absolute
            left 1em
            top 1em
            padding 2.5em
            background-color #fff
            color #000
            font-family $F-PGB
            border 0.25em solid #000
            box-shadow 0.5em 0.5em 1em rgba(#000, 0.25)
            user-select none
            transform translateX(-100%)
            composite(transform, 1s, ease-out)
            &.active
                transition-delay 0.5s
                transform none
            span
                &.caught,
                &.escaped
                    display none